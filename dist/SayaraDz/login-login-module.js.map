{"version":3,"sources":["webpack:///./src/app/Services/Authentification/authentification.service.ts","webpack:///./src/app/login/login-routing.module.ts","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.scss","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { Admin } from '../../model/admin.model';\r\nimport { FabricantAdmin } from '../../model/fabricant-admin';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class AuthentificationService  {\r\n\r\n  constructor(private http:HttpClient) { }\r\n\r\n  readonly ROOT_URL = environment.baseUrl;\r\n\r\n  public loginAll(username:string,password:string){\r\n\r\n    interface LoginResponse {\r\n      token: string;\r\n      type : string;\r\n      manufacturer : string;\r\n      isAdmin : boolean;\r\n    }\r\n    let data = {\r\n      email : username,\r\n      password : password,\r\n    }\r\n\r\n    return this.http.post<LoginResponse>(this.ROOT_URL+'/login',\r\n    data\r\n    ).pipe(map(res => {\r\n      console.log(res);\r\n      return res;\r\n    }));\r\n  }\r\n\r\n  public login(username:string,password:string){\r\n\r\n    interface LoginResponse {\r\n      token: string;\r\n    }\r\n    let data = {\r\n      email : username,\r\n      password : password,\r\n    }\r\n\r\n    return this.http.post<LoginResponse>(this.ROOT_URL+'/admins/login',\r\n    data\r\n    ).pipe(map(res => {\r\n      console.log(res);\r\n      return res;\r\n    }));\r\n  }\r\n\r\n  public logout(){\r\n\r\n    const header = new HttpHeaders({'Authorization':localStorage.getItem('accesToken')});\r\n\r\n    this.http.delete(this.ROOT_URL+'/admins/logout',{\r\n      headers: header\r\n    }).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        window.localStorage.setItem(\"accesToken\", \"\");\r\n        window.localStorage.setItem(\"isSuperAdmin\", \"\");\r\n      },\r\n      err => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  public userLogin(username:string,password:string){\r\n\r\n    interface LoginResponse {\r\n      email : string;\r\n      id : string;\r\n      token: string;\r\n      type : string;\r\n      manufacturer : string\r\n    }\r\n    let data = {\r\n      email : username,\r\n      password : password,\r\n    }\r\n\r\n    return this.http.post<LoginResponse>(this.ROOT_URL+'/manufacturers/login',\r\n    data\r\n    ).pipe(map(res => {\r\n      console.log(res);\r\n      return res;\r\n    }));\r\n  }\r\n\r\n  public userLogout(){\r\n\r\n    const header = new HttpHeaders({'Authorization':localStorage.getItem('accesToken')});\r\n\r\n    this.http.delete(this.ROOT_URL+'/manufacturers/logout',{\r\n      headers: header\r\n    }).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        window.localStorage.setItem(\"accesToken\", \"\");\r\n        window.localStorage.setItem(\"isAdmin\", \"\");\r\n        window.localStorage.setItem(\"manufacturer\",\"\");\r\n      },\r\n      err => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  public showMe(){\r\n\r\n    const header = new HttpHeaders({'Authorization':localStorage.getItem('accesToken')});\r\n\r\n    return this.http.get<FabricantAdmin>(this.ROOT_URL+'/me',\r\n    { headers: header }\r\n    ).pipe(map(res => {\r\n      console.log(res);\r\n      return res;\r\n    }));\r\n  }\r\n\r\n\r\n  public updateMe(email:string, password:string){\r\n\r\n    const header = new HttpHeaders({'Authorization':localStorage.getItem('accesToken')});\r\n    let body = {email : email, password:password};\r\n    return this.http.put(this.ROOT_URL+'/admins/me',body,\r\n    { headers: header }\r\n    ).pipe(map(res => {\r\n      return res;\r\n    }));\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: LoginComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class LoginRoutingModule {}\n","module.exports = \"<div class=\\\"login-page\\\">\\r\\n    <div class=\\\"row justify-content-sm-center mt-5\\\">\\r\\n        <div class=\\\"d-flex justify-content-center\\\">\\r\\n            <mat-spinner [hidden]=\\\"!loading\\\" class=\\\"mt-5\\\"></mat-spinner>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-8\\\" [hidden]=\\\"loading\\\">\\r\\n          <app-notification [error] = \\\"error\\\"></app-notification>\\r\\n          <div class=\\\"card box-shadow\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12 col-md-8\\\" style=\\\"margin-top : 20px; margin-bottom: 20px;\\\">\\r\\n                  <h4 class=\\\"card-title\\\">Se connecter à Sayara <span style=\\\"color : #FFAB00;\\\">DZ</span></h4>\\r\\n                  <div style=\\\"width: 100px; border: 1px solid #FFAB00;\\\"></div>\\r\\n                  <div class=\\\"card-text\\\">\\r\\n                    <form (submit)=\\\"onSubmit()\\\">\\r\\n                        <div class=\\\"form-content\\\">\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <input type=\\\"text\\\" [(ngModel)]=\\\"username\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control input-underline input-lg\\\" placeholder=\\\"Email\\\">\\r\\n                            </div>\\r\\n\\r\\n                            <div class=\\\"form-group\\\">\\r\\n                                <input type=\\\"password\\\" [(ngModel)]=\\\"password\\\" [ngModelOptions]=\\\"{standalone: true}\\\" class=\\\"form-control input-underline input-lg\\\" placeholder=\\\"Password\\\">\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <button class=\\\"btn btn-search\\\" type=\\\"submit\\\">Connect</button>\\r\\n                    </form>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-4 d-none d-sm-none d-md-block d-lg-block d-xl-block\\\" style=\\\"background : url(../../assets/car3.jpg)  ; background-size: cover;\\\">\\r\\n\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","module.exports = \":host {\\n  display: block; }\\n\\n.login-page {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n  background: #BDBDBD;\\n  color: #000;\\n  padding: 3em; }\\n\\n.login-page .input-lg {\\n    height: 46px;\\n    padding: 10px 16px;\\n    font-size: 18px;\\n    line-height: 1.3333333;\\n    border-radius: 0; }\\n\\n.login-page .input-underline {\\n    background: 0 0;\\n    border: none;\\n    box-shadow: none;\\n    border-bottom: 2px solid rgba(0, 0, 0, 0.5);\\n    color: #000;\\n    border-radius: 0; }\\n\\n.login-page .input-underline:focus {\\n    border-bottom: 2px solid #000;\\n    box-shadow: none; }\\n\\n.login-page .rounded-btn {\\n    color: rgba(255, 255, 255, 0.8);\\n    background: #FFAB00;\\n    border: 2px solid rgba(255, 255, 255, 0.8);\\n    font-size: 18px;\\n    line-height: 40px;\\n    padding: 0 25px; }\\n\\n.login-page .rounded-btn:hover,\\n  .login-page .rounded-btn:focus,\\n  .login-page .rounded-btn:active,\\n  .login-page .rounded-btn:visited {\\n    color: white;\\n    border: 2px solid white;\\n    outline: none; }\\n\\n.login-page h1 {\\n    font-weight: 300;\\n    margin-top: 20px;\\n    margin-bottom: 10px;\\n    font-size: 36px; }\\n\\n.login-page h1 small {\\n      color: rgba(0, 0, 0, 0.7); }\\n\\n.login-page .form-group {\\n    padding: 8px 0; }\\n\\n.login-page .form-group input::-webkit-input-placeholder {\\n      color: rgba(0, 0, 0, 0.6) !important; }\\n\\n.login-page .form-group input:-moz-placeholder {\\n      /* Firefox 18- */\\n      color: rgba(0, 0, 0, 0.6) !important; }\\n\\n.login-page .form-group input::-moz-placeholder {\\n      /* Firefox 19+ */\\n      color: rgba(0, 0, 0, 0.6) !important; }\\n\\n.login-page .form-group input:-ms-input-placeholder {\\n      color: rgba(0, 0, 0, 0.6) !important; }\\n\\n.login-page .form-content {\\n    padding: 40px 0; }\\n\\n.box-shadow {\\n  border-radius: 0px;\\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12) !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vQzpcXFVzZXJzXFxuYWJvdVxcRG9jdW1lbnRzXFxBbmd1bGFyXFxwcm9qZXQyY3NcXFN5YXJhRHpXZWIvc3JjXFxhcHBcXGxvZ2luXFxsb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGNBQWMsRUFBQTs7QUFFbEI7RUFDSSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxRQUFRO0VBQ1IsU0FBUztFQUNULGNBQWM7RUFDZCxtQkFYNkI7RUFZN0IsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFUaEI7SUFXUSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsZ0JBQWdCLEVBQUE7O0FBZnhCO0lBa0JRLGVBQWU7SUFDZixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLDJDQUEyQztJQUMzQyxXQUFXO0lBQ1gsZ0JBQWdCLEVBQUE7O0FBdkJ4QjtJQTBCUSw2QkFBNkI7SUFDN0IsZ0JBQWdCLEVBQUE7O0FBM0J4QjtJQThCUSwrQkFBK0I7SUFDL0IsbUJBQW1CO0lBQ25CLDBDQUEwQztJQUMxQyxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGVBQWUsRUFBQTs7QUFuQ3ZCOzs7O0lBeUNRLFlBQTZCO0lBQzdCLHVCQUF3QztJQUN4QyxhQUFhLEVBQUE7O0FBM0NyQjtJQStDUSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixlQUFlLEVBQUE7O0FBbER2QjtNQW9EWSx5QkFBeUIsRUFBQTs7QUFwRHJDO0lBeURRLGNBQWMsRUFBQTs7QUF6RHRCO01BMkRZLG9DQUFvQyxFQUFBOztBQTNEaEQ7TUErRFksZ0JBQUE7TUFDQSxvQ0FBb0MsRUFBQTs7QUFoRWhEO01Bb0VZLGdCQUFBO01BQ0Esb0NBQW9DLEVBQUE7O0FBckVoRDtNQXlFWSxvQ0FBb0MsRUFBQTs7QUF6RWhEO0lBNkVRLGVBQWUsRUFBQTs7QUFHdkI7RUFDRSxrQkFBa0I7RUFDbkIsc0lBQTZILEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiR0b3BuYXYtYmFja2dyb3VuZC1jb2xvcjogI0JEQkRCRDtcbjpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5sb2dpbi1wYWdlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIGJhY2tncm91bmQ6ICR0b3BuYXYtYmFja2dyb3VuZC1jb2xvcjtcbiAgICBjb2xvcjogIzAwMDtcbiAgICBwYWRkaW5nOiAzZW07XG4gICAgLmlucHV0LWxnIHtcbiAgICAgICAgaGVpZ2h0OiA0NnB4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDE2cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzMzMzMzMztcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICB9XG4gICAgLmlucHV0LXVuZGVybGluZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IDAgMDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgICAgICBjb2xvcjogIzAwMDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICB9XG4gICAgLmlucHV0LXVuZGVybGluZTpmb2N1cyB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMDAwO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgIH1cbiAgICAucm91bmRlZC1idG4ge1xuICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjRkZBQjAwO1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XG4gICAgICAgIHBhZGRpbmc6IDAgMjVweDtcbiAgICB9XG4gICAgLnJvdW5kZWQtYnRuOmhvdmVyLFxuICAgIC5yb3VuZGVkLWJ0bjpmb2N1cyxcbiAgICAucm91bmRlZC1idG46YWN0aXZlLFxuICAgIC5yb3VuZGVkLWJ0bjp2aXNpdGVkIHtcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgfVxuXG4gICAgaDEge1xuICAgICAgICBmb250LXdlaWdodDogMzAwO1xuICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgIHNtYWxsIHtcbiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuZm9ybS1ncm91cCB7XG4gICAgICAgIHBhZGRpbmc6IDhweCAwO1xuICAgICAgICBpbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dDotbW96LXBsYWNlaG9sZGVyIHtcbiAgICAgICAgICAgIC8qIEZpcmVmb3ggMTgtICovXG4gICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciB7XG4gICAgICAgICAgICAvKiBGaXJlZm94IDE5KyAqL1xuICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KSAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcbiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNikgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAuZm9ybS1jb250ZW50IHtcbiAgICAgICAgcGFkZGluZzogNDBweCAwO1xuICAgIH1cbn1cbi5ib3gtc2hhZG93e1xyXG4gIGJvcmRlci1yYWRpdXM6IDBweDtcclxuXHRib3gtc2hhZG93OiAwcHggM3B4IDVweCAtMXB4IHJnYmEoMCwwLDAsMC4yKSwgMHB4IDZweCAxMHB4IDBweCByZ2JhKDAsMCwwLDAuMTQpLCAwcHggMXB4IDE4cHggMHB4IHJnYmEoMCwwLDAsMC4xMikgIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthentificationService } from '../Services/Authentification/authentification.service';\r\nimport { first } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n    username: string = \"\";\r\n    password: string = \"\";\r\n\r\n    error : string = \"\";\r\n    loading : boolean = false;\r\n\r\n    constructor (   private auth:AuthentificationService,\r\n                    private router:Router,\r\n    ) {}\r\n\r\n    ngOnInit() {}\r\n\r\n    onSubmit() {\r\n      this.loading = true;\r\n      this.auth.loginAll(this.username,this.password)\r\n      .pipe(first()).subscribe(\r\n          res => {\r\n            if (res.token == undefined) {\r\n              this.loading = false;\r\n              console.log(\"Show Error feedback!\");\r\n            } else {\r\n              window.localStorage.setItem(\"accesToken\", res.token);\r\n              if(res.type === \"ADMIN\"){\r\n                window.localStorage.setItem(\"isSuperAdmin\",\"true\");\r\n              }else if(res.isAdmin){\r\n                window.localStorage.setItem(\"isAdmin\",\"true\");\r\n                window.localStorage.setItem(\"manufacturer\",res.manufacturer);\r\n              }\r\n              this.router.navigate([\"/dashboard\"]);\r\n            }\r\n          },\r\n          err => {\r\n            this.loading = false;\r\n            this.error = err;\r\n            console.log(\"Error occured : \"+ err);\r\n          }\r\n        );\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\nimport { NotificationModule } from './../shared';\r\nimport { MaterialModule } from './../layout/material.module';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        LoginRoutingModule,\r\n        NotificationModule,\r\n        MaterialModule],\r\n    providers: [\r\n        HttpClientModule],\r\n    declarations: [LoginComponent]\r\n})\r\nexport class LoginModule {}\r\n"],"sourceRoot":""}